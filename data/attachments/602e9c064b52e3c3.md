# Test info

- Name: Баги по товарам >> Перейти на страницу описания товара
- Location: /home/runner/work/QA.GURU_Repo_AcademyBugs/QA.GURU_Repo_AcademyBugs/specs/productsBugs.spec.js:114:3

# Error details

```
Error: locator.waitFor: Test timeout of 60000ms exceeded.
Call log:
  - waiting for locator('#ec_details_description.academy-bug')

    at ProductCardPage.gotoDescription (/home/runner/work/QA.GURU_Repo_AcademyBugs/QA.GURU_Repo_AcademyBugs/sources/pages/productCardPage.js:101:38)
    at /home/runner/work/QA.GURU_Repo_AcademyBugs/QA.GURU_Repo_AcademyBugs/specs/productsBugs.spec.js:118:29
```

# Page snapshot

```yaml
- text: Manage consent
- link "Skip to content":
  - /url: "#sq-content"
- banner:
  - heading "AcademyBugs.com" [level=3]:
    - link "AcademyBugs.com":
      - /url: https://academybugs.com/
  - navigation:
    - list:
      - listitem:
        - link "Examples of Bugs":
          - /url: https://academybugs.com/
      - listitem:
        - link "Types of Bugs":
          - /url: https://academybugs.com/types/
      - listitem:
        - link "Find Bugs":
          - /url: https://academybugs.com/find-bugs/
      - listitem:
        - link "Report Bugs":
          - /url: https://academybugs.com/report-bugs/
      - listitem:
        - link "":
          - /url: "#"
- main:
  - article:
    - heading "Home / Shop / All Items" [level=4]:
      - link "Home":
        - /url: https://academybugs.com
      - text: /
      - link "Shop":
        - /url: https://academybugs.com/store/
      - text: /
      - link "All Items":
        - /url: https://academybugs.com/store/all-items/
    - img "Flamingo Tshirt"
    - heading "Home / Shop / All Items" [level=4]:
      - link "Home":
        - /url: https://academybugs.com
      - text: /
      - link "Shop":
        - /url: https://academybugs.com/store/
      - text: /
      - link "All Items":
        - /url: https://academybugs.com/store/all-items/
    - heading "Flamingo Tshirt" [level=1]
    - text: "$15.14 Model Number: 4881370 Nam nec tellus a odio tincidunt auctor a ornare odio. Sed non mauris vitae erat consequat auctor eu in elit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Mauris in erat justo. Nullam ac urna eu felis dapibus condimentum sit amet a augue. Sed non neque elit sed."
    - button "-"
    - spinbutton: "1"
    - button "+"
    - button "ADD TO CART"
    - text: "Manufacturer:"
    - link "HDX":
      - /url: https://academybugs.com/extra/stored/hdx/
    - link "Facebook":
      - /url: https://www.facebook.com/sharer/sharer.php?p[url]=https://academybugs.com/store/flamingo-tshirt/&p[images][o]=https://academybugs.com/wp-content/uploads/2020/10/flamingo-tshirt-compressed.jpg&p[title]=Flamingo+Tshirt
      - img "Facebook"
    - link "X":
      - /url: https://twitter.cointent/tweet?original_referer=#
      - img "X"
    - link "Email":
      - /url: "mailto:?subject=Flamingo Tshirt&body=Link for Product: https://academybugs.com/store/flamingo-tshirt/"
      - img "Email"
    - link "Pinterest":
      - /url: https://pinterest.com/pin/create/button/?media=https%3A%2F%2Facademybugs.com%2Fwp-content%2Fuploads%2F2020%2F10%2Fflamingo-tshirt-compressed.jpg&description=Flamingo+Tshirt&url=https%3A%2F%2Facademybugs.com%2Fstore%2Fflamingo-tshirt%2F
      - img "Pinterest"
    - link "LinkedIn":
      - /url: https://www.linkedin.com/shareArticle?mini=true&url=https://academybugs.com/store/flamingo-tshirt/
      - img "LinkedIn"
    - link "MySpace":
      - /url: https://academybugs.com/myspace/
      - img "MySpace"
    - list:
      - listitem: Description
    - paragraph: Nam nec tellus a odio tincidunt auctor a ornare odio. Sed non mauris vitae erat consequat auctor eu in elit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Mauris in erat justo. Nullam ac urna eu felis dapibus condimentum sit amet a augue. Sed non neque elit sed.
  - heading "Leave a Reply" [level=3]
  - paragraph: Your email address will not be published. Required fields are marked *
  - paragraph:
    - textbox "Comment"
  - paragraph:
    - textbox "Name*"
  - paragraph:
    - textbox "Email*"
  - paragraph:
    - textbox "Website"
  - paragraph:
    - button "Post Comment"
- heading "Select a Currency" [level=4]
- combobox:
  - option "USD" [selected]
  - option "EUR"
  - option "GBP"
  - option "JPY"
- heading "Product Search" [level=4]
- combobox
- button "Search"
- heading "Hot Item" [level=4]
- link:
  - /url: https://academybugs.com/anchor-bracelet
  - img
- link "Silver Heart Bracelet":
  - /url: https://academybugs.com/anchor-bracelet
- text: $275.00
- heading "Store Menu" [level=4]
- list:
  - listitem:
    - link "All Items":
      - /url: https://academybugs.com/store/all-items/
  - listitem:
    - link "Accessories [+]":
      - /url: "#"
  - listitem:
    - link "Fashion Type [+]":
      - /url: "#"
  - listitem:
    - link "Women's Pants":
      - /url: https://academybugs.com/store/womens-pants/
- heading "Filter by Price" [level=4]
- link "$15.00 - $19.99 (1)":
  - /url: https://academybugs.com/store/flamingo-tshirt/?&perpage=25&pricepoint=7
- link "$25.00 - $49.99 (2)":
  - /url: https://academybugs.com/store/flamingo-tshirt/?&perpage=25&pricepoint=2
- link "$50.00 - $99.99 (3)":
  - /url: https://academybugs.com/store/flamingo-tshirt/?&perpage=25&pricepoint=3
- link "$100.00 - $299.99 (11)":
  - /url: https://academybugs.com/store/flamingo-tshirt/?&perpage=25&pricepoint=4
- link "Greater Than $299.99 (1)":
  - /url: https://academybugs.com/store/flamingo-tshirt/?&perpage=25&pricepoint=5
- heading "Shopping Cart" [level=4]
- link "Shopping Cart (0)":
  - /url: "#"
- heading "Your Account" [level=4]
- text: Email Address*
- textbox
- text: Password*
- textbox
- paragraph:
  - link "Sign Up":
    - /url: https://academybugs.com/account/?ec_page=register
- button "SIGN IN"
- contentinfo:
  - list:
    - listitem:
      - link "uTest":
        - /url: https://www.utest.com/academy
        - img "uTest"
    - listitem:
      - link "Terms & Conditions":
        - /url: https://www.utest.com/terms-and-conditions
    - listitem:
      - link "Privacy Policy":
        - /url: https://www.utest.com/privacy-policy
- link "":
  - /url: "#"
```

# Test source

```ts
   1 | export class ProductCardPage {
   2 |     constructor(page) {
   3 |         this.page = page
   4 |         this.currencyDropdown = page.locator('#ec_currency_conversion')
   5 |         this.manufacturerCard = page.getByRole('link', { name: 'HDX' })
   6 |         this.twitterButton = page.getByRole('link', { name: 'X', exact: true })
   7 |         this.mySpaceButton = page.getByRole('link', { name: 'MySpace' })
   8 |         this.hotItemCard = page.getByRole('link', { name: 'Silver Heart Bracelet' })
   9 |         this.signUpButton = page.getByRole('link', { name: 'Sign Up' })
   10 |         this.nameInput = page.getByRole('textbox', { name: 'Name*' })
   11 |         this.emailInput = page.getByRole('textbox', { name: 'Email*' })
   12 |         this.textInput = page.getByRole('textbox', { name: 'Comment' })
   13 |         this.signInButton = page.getByRole('button', { name: 'SIGN IN' })
   14 |         this.postCommentButton = page.getByRole('button', { name: 'Post Comment' })
   15 |         this.filterByPriceItem = page.getByRole('link', { name: '$15.00 - $19.99 (1)' })
   16 |         this.loaderMySpace = page.locator('#span.ec_cart_billing_info_update_loader')
   17 |         this.errorMySpace = page.getByText('Please wait…')
   18 |         this.loaderHotItem = page.locator('#ec_cart_billing_info_update_loader.academy-bug-19');
   19 |         this.descriptionButton = page.locator('#ec_details_description.academy-bug')
   20 |         this.addToCartButton = page.getByRole('button', { name: 'ADD TO CART' })
   21 |         this.totalPriceButton = page.locator('#ec_cart_total')
   22 |         this.quantityField = page.locator('#ec_quantity')
   23 |         this.updateQuantityButton = page.getByText('UPDATE')
   24 |     }
   25 |
   26 |     // изменение валюты товара на евро
   27 |     async changeCurrencyEUR(){
   28 |         await this.currencyDropdown.waitFor({ state: 'attached' });
   29 |         await this.currencyDropdown.waitFor({ state: 'visible' });
   30 |         await this.currencyDropdown.selectOption('EUR');
   31 |         await this.page.waitForTimeout(1000); //тот самый таймаут
   32 |         await this.currencyDropdown.dispatchEvent('change');
   33 |     }
   34 |
   35 |     // переход на страницу производителя
   36 |     async gotoManufacturer(){
   37 |         await this.manufacturerCard.waitFor({ state: 'attached' });
   38 |         await this.manufacturerCard.waitFor({ state: 'visible' });
   39 |         await this.manufacturerCard.click({ force: true });
   40 |     }
   41 |
   42 |     // переход на страницу Твиттера
   43 |     async gotoTwitter(){
   44 |         await this.twitterButton.waitFor({ state: 'attached' });
   45 |         await this.twitterButton.waitFor({ state: 'visible' });
   46 |         await this.twitterButton.click();
   47 |     }
   48 |
   49 |     // переход на страницу My Space
   50 |     async gotoMySpace(){
   51 |         await this.mySpaceButton.waitFor({ state: 'attached' });
   52 |         await this.mySpaceButton.waitFor({ state: 'visible' });
   53 |         await this.mySpaceButton.click({ force: true });
   54 |         await this.errorMySpace.click({ force: true });
   55 |     }
   56 |     
   57 |     // переход на страницу браслета (hot item)
   58 |     async gotoHotItem(){
   59 |         await this.hotItemCard.waitFor({ state: 'attached' });
   60 |         await this.hotItemCard.waitFor({ state: 'visible' });
   61 |         await this.hotItemCard.click({ force: true });
   62 |         await this.loaderHotItem.waitFor({ state: 'attached' });
   63 |         await this.loaderHotItem.waitFor({ state: 'visible' });
   64 |         await this.loaderHotItem.click({ force: true });
   65 |     }
   66 |
   67 |     // добавление комментария к товару
   68 |     async postComment(name, email, text){ 
   69 |         await this.nameInput.click();
   70 |         await this.nameInput.fill(name);
   71 |         await this.emailInput.click();
   72 |         await this.emailInput.fill(email);
   73 |         await this.textInput.click();
   74 |         await this.textInput.fill(text);
   75 |         await this.postCommentButton.click();
   76 |     }
   77 |
   78 |     // фильтрация товаров по цене
   79 |     async filterByPrice(){
   80 |         await this.filterByPriceItem.waitFor({ state: 'attached' });
   81 |         await this.filterByPriceItem.waitFor({ state: 'visible' });
   82 |         await this.filterByPriceItem.click({ force: true });
   83 |     }
   84 |
   85 |     // клик по кнопке Sign In
   86 |     async gotoSignIn(){
   87 |         await this.signInButton.waitFor({ state: 'attached' });
   88 |         await this.signInButton.waitFor({ state: 'visible' });
   89 |         await this.signInButton.click({ force: true });
   90 |     }
   91 |
   92 |     // переход на страницу Sign Up
   93 |     async gotoSignUp(){
   94 |         await this.signUpButton.waitFor({ state: 'attached' });
   95 |         await this.signUpButton.waitFor({ state: 'visible' });
   96 |         await this.signUpButton.click({ force: true });
   97 |     }
   98 |
   99 |     // переход на страницу описания товара
  100 |     async gotoDescription(){
> 101 |         await this.descriptionButton.waitFor({ state: 'attached' });
      |                                      ^ Error: locator.waitFor: Test timeout of 60000ms exceeded.
  102 |         await this.descriptionButton.waitFor({ state: 'visible' });
  103 |         await this.descriptionButton.click();
  104 |     }
  105 |
  106 |     // добавление товара в корзину
  107 |     async addToCart(){
  108 |         await this.addToCartButton.waitFor({ state: 'attached' });
  109 |         await this.addToCartButton.waitFor({ state: 'visible' });
  110 |         await this.addToCartButton.click();
  111 |     }
  112 |
  113 |     // получение цены товара
  114 |     async getTotalPrice(){
  115 |         await this.totalPriceButton.waitFor({ state: 'attached' });
  116 |         await this.totalPriceButton.waitFor({ state: 'visible' });
  117 |         await this.totalPriceButton.click({ force: true });
  118 |     }
  119 |
  120 |     // изменение количества товара в корзине
  121 |     async updateQuantity(){
  122 |         await this.quantityField.waitFor({ state: 'attached' });
  123 |         await this.quantityField.waitFor({ state: 'visible' });
  124 |         await this.quantityField.click();
  125 |         await this.quantityField.fill('43');
  126 |         await this.updateQuantityButton.click();
  127 |     }
  128 | }
```